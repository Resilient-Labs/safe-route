
<%- include('partials/header') -%>
<link rel="stylesheet" href="/css/mapView.css">
<!-- Leaflet CSS -->

<!-- Main Content -->
    <main class="main-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <h2>Map View Page</h2>

        <!-- View Nearby Alerts Section -->
        <section class="section">
          <h3>View Nearby Alerts</h3>
          <p>No Sign-In Needed</p>
          <div class="form-group">
            <input
              type="text"
              placeholder="Enter Address or Zip Code"
              id="searchLocation" />
          </div>
          <button class="submit-btn" onclick="searchAlerts()">Submit</button>
        </section>

        <!-- Submit an Alert Section -->
        <section class="section">
          <h3>Submit an Alert</h3>
          <p>Click the Map or Use the Form Below to Submit an Alert</p>

          <form id="alertForm" novalidate>
            <div class="form-group">
              <label for="incidentType">Incident Type</label>
              <select id="incidentType" name="incidentType" required>
                <option value="">Select Type</option>
                <option value="accessibility">Accessibility</option>
                <option value="suspiciousActivity">Suspicious Activity</option>
                <option value="motorAccident">Motor Accidents</option>
                <option value="infrastructure">Infrastructure</option>
              </select>
            </div>

            <div class="form-group">
              <label for="address">Address</label>
              <input
                type="text"
                id="address"
                name="address"
                placeholder="Enter Address"
                required />
            </div>

            <div class="form-group">
              <label for="description">Description</label>
              <textarea
                id="description"
                name="description"
                placeholder="Enter Incident Details"
                required></textarea>
            </div>

            <div class="checkbox-group">
              <input type="checkbox" id="uploadImage" name="uploadImage" />
              <label for="uploadImage">Upload Image</label>
            </div>

            <button type="submit" class="submit-btn">Submit Alert</button>
          </form>
        </section>
      </aside>

      <!-- Map Container -->
      <div class="map-container">
        <h1 class="map-title">Your Neighborhood Safety Map</h1>
        <div id="map"></div>
        
      </div>
    </main>

    <!-- Pass server data to JavaScript -->
<script>
  window.serverData = {
        mapCenter: <%- JSON.stringify(locals.mapCenter) %>,
        markers: <%- JSON.stringify(locals.markers) %> };
</script>
     
  <!-- Your main Map JavaScript file - moved here and out of header to load only on this map page -->
    <script src="mapView(main).js"></script>
  <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Leaflet Control Geocoder JS -->
    <script src="https://unpkg.com/leaflet-control-geocoder@2.4.0/dist/Control.Geocoder.js"></script>

    <!-- Footer -->
    <%- include('partials/footer') -%>


   
   
